> **Sentry** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**.
> 
> –û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç **stacktrace**, –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–µ—Ä—Å–∏—é —Ä–µ–ª–∏–∑–∞, –æ–∫—Ä—É–∂–µ–Ω–∏–µ (prod/stage), –∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—à–∏–±–∫–∏.
> 
> –í –¢-–ë–∞–Ω–∫–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Sentry –≤–æ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö (FastAPI, Kafka, Celery) ‚Äî –æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ SDK –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –ª–æ–≥–≥–µ—Ä–æ–º.
> 
> –û—à–∏–±–∫–∏ —É—Ä–æ–≤–Ω—è `ERROR` –∏ `CRITICAL` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Sentry, –≥–¥–µ –æ–Ω–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å —Ä–µ–ª–∏–∑–æ–º –≤ GitLab –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ **–∞–ª–µ—Ä—Ç—ã** (Slack, PagerDuty).
> 
> –≠—Ç–æ —Å–∏–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã: –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –æ—à–∏–±–∫—É –≤ –ª–æ–≥–∞—Ö ‚Äî —Ç—ã —Å—Ä–∞–∑—É –≤–∏–¥–∏—à—å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

---

## üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Sentry

- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≤–∏—Ç **–∏—Å–∫–ª—é—á–µ–Ω–∏—è (exceptions)** –≤ –∫–æ–¥–µ
    
- üìú –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **stacktrace** –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∑–∞–ø—Ä–æ—Å, headers, user, env)
    
- üì¶ –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—à–∏–±–∫–∏
    
- üîî –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (Slack, email, PagerDuty)
    
- üîÑ –°–≤—è–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º **—Ä–µ–ª–∏–∑–æ–º/–∫–æ–º–º–∏—Ç–æ–º**
    
- üß≠ –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∏–∑ –æ—à–∏–±–∫–∏ ‚Üí –≤ –∫–æ–¥ –∏ –æ–±—Ä–∞—Ç–Ω–æ
    
- üìä –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –ø–æ –æ—à–∏–±–∫–∞–º –∏ —Ç—Ä–µ–Ω–¥–∞–º
    

---

## üîπ –ü—Ä–∏–º–µ—Ä –∏–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–¢-–ë–∞–Ω–∫)

> –í –º–æ–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö –Ω–∞ FastAPI –∏ –≤–æ—Ä–∫–µ—Ä–∞—Ö Kafka —è –∏—Å–ø–æ–ª—å–∑—É—é –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π `sentry-sdk`.  
> –û–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
> 
> –¢–∞–∫–∂–µ –º—ã –≤—Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Sentry –æ—à–∏–±–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ø–ª–∞—Ç—ë–∂ –æ—Ç–∫–ª–æ–Ω—ë–Ω –ø–æ –ª–∏–º–∏—Ç—É‚Äù) —Å –Ω—É–∂–Ω—ã–º–∏ —Ç—ç–≥–∞–º–∏:  
> `service=payments-api`, `env=prod`, `user_id`, `trace_id`.
> 
> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä—è–º–æ –≤ Sentry –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Ä–µ–ª–∏–∑—É –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ñ–∏—á–µ-—Ñ–ª–∞–≥—É.

---

## üîπ –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ (FastAPI)

```
import sentry_sdk
from fastapi import FastAPI
from sentry_sdk.integrations.fastapi import FastApiIntegration
from sentry_sdk.integrations.logging import LoggingIntegration

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ Sentry
sentry_sdk.init(
    dsn="https://<your-key>@sentry.io/<project-id>",
    integrations=[
        FastApiIntegration(),
        LoggingIntegration(level=None, event_level="ERROR"),
    ],
    environment="prod",
    release="payments-service@1.2.4",
    traces_sample_rate=0.1,  # –º–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –∏ —Ç—Ä–µ–π—Å—ã
)

app = FastAPI()

@app.get("/error")
def trigger_error():
    1 / 0  # –û—à–∏–±–∫–∞ –ø–æ–ø–∞–¥–µ—Ç –≤ Sentry –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```

> –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ `dsn` –±–µ—Ä—ë—Ç—Å—è –∏–∑ Vault/Secrets, –∞ `environment` –∏ `release` –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏–∑ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞ GitLab.

---

## üîπ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

- GitLab CI –æ–±–Ω–æ–≤–ª—è–µ—Ç **release tag** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ (`sentry-cli releases set-commits`).
    
- –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ –≤–µ—Ä—Å–∏—è–º –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º (`prod`, `stage`).
    
- Sentry –¥—É–±–ª–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ **Alertmanager** –∏–ª–∏ **Slack**.
    
- –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è **issue –≤ Jira**.
    
- –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ **SLO ‚Äú–æ—à–∏–±–æ–∫ < 0.1% –∑–∞ 10 –º–∏–Ω‚Äù** –≤–µ–¥—ë—Ç—Å—è –ø—Ä—è–º–æ –∏–∑ Sentry API.
    

---

## üîπ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ª–æ–≥–∞–º–∏

|–û–±—ã—á–Ω—ã–µ –ª–æ–≥–∏|Sentry|
|---|---|
|–ù—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ä—É–∫–∞–º–∏|–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≤–∏—Ç –∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç|
|–ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞|–ï—Å—Ç—å user, request, trace_id|
|–ù–µ –≤–∏–¥–Ω–æ —Ä–µ–ª–∏–∑–∞|–ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–º–º–∏—Ç—É|
|–ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤|–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ Jira –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è|
|–ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏|–¢—Ä–µ–Ω–¥—ã –æ—à–∏–±–æ–∫, —á–∞—Å—Ç–æ—Ç–∞, –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –±–∞–≥–∞|

---

## üí¨ –ö–∞–∫ –º–æ–∂–Ω–æ –∫—Ä–∞—Å–∏–≤–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ—Ç–≤–µ—Ç

> –¢–æ –µ—Å—Ç—å Sentry ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–ª–æ–≥ –æ—à–∏–±–æ–∫‚Äù, –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç **–Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏ –∏ –±—ã—Å—Ç—Ä–æ–π —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è**.  
> –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –∏ –ø–æ—á–µ–º—É —Å–ª–æ–º–∞–ª–æ—Å—å, –∫–æ–º—É —ç—Ç–æ –∑–∞—Ç—Ä–æ–Ω—É–ª–æ –∏ –≤ –∫–∞–∫–æ–º —Ä–µ–ª–∏–∑–µ.
> 
> –ë–ª–∞–≥–æ–¥–∞—Ä—è Sentry –º—ã –≤ –¢-–ë–∞–Ω–∫–µ —Å–æ–∫—Ä–∞—Ç–∏–ª–∏ –≤—Ä–µ–º—è –Ω–∞ –ø–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ ‚Äî —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤ –¥–æ –º–∏–Ω—É—Ç.