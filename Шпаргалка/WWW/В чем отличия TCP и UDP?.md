* Тип соединения:  
TCP: Соединение устанавливается перед передачей данных.  
UDP: Соединение не устанавливается, передача данных осуществляется без предварительного установления соединения.  
  
* Надежность:  
TCP: Гарантированная доставка данных, подтверждения, повторные передачи при потере пакетов.  
UDP: Нет гарантии доставки, отсутствуют подтверждения и повторные передачи.  
  
* Упорядочивание данных:  
TCP: Данные доставляются в том порядке, в котором были отправлены.  
UDP: Данные могут приходить в произвольном порядке.  
  
* Контроль потока и перегрузки:  
TCP: Реализован механизм контроля потока и перегрузки (Flow and Congestion Control).  
UDP: Механизмы контроля потока и перегрузки отсутствуют.  
  
* Скорость:  
TCP: Медленнее из-за дополнительных механизмов обеспечения надежности.  
UDP: Быстрее благодаря минимальным накладным расходам.  
  
* Размер заголовка:  
TCP: Более крупный заголовок (20 байт без опций).  
UDP: Меньший заголовок (8 байт).  
  
* Использование:  
TCP: Приложения, требующие надежной доставки данных (например, веб-браузеры, электронная почта, FTP).  
UDP: Приложения, где важна скорость, а потеря некоторых пакетов допустима (например, стриминг видео и аудио, онлайн-игры, DNS-запросы).  
  
* Потоковая передача:  
TCP: Передача данных как непрерывного потока байтов.  
UDP: Передача данных в виде отдельных датаграмм.  
  
Алгоритмические этапы работы TCP и UDP  
1. Установление соединения  
  
TCP:  
Трехстороннее рукопожатие (Three-Way Handshake):  
2. SYN: Клиент инициирует соединение, отправляя серверу сегмент с флагом SYN (synchronize).  
3. SYN-ACK: Сервер отвечает сегментом с флагами SYN и ACK (acknowledgment), подтверждая получение SYN от клиента.  
4. ACK: Клиент отправляет сегмент с флагом ACK, подтверждая получение SYN-ACK от сервера.  
5. После успешного трехстороннего рукопожатия устанавливается надежное соединение, и начинается передача данных.  
  
UDP:  
Нет установления соединения: Данные (датаграммы) отправляются непосредственно без предварительной установки соединения. Это уменьшает задержки и накладные расходы, но не гарантирует, что получатель готов принять данные.  
  
6. Передача данных  
  
TCP:  
* Разбиение на сегменты: Большие объемы данных разбиваются на управляемые сегменты.  
* Нумерация сегментов: Каждый сегмент получает уникальный номер последовательности, что позволяет отслеживать порядок и обнаруживать потерянные сегменты.  
* Контроль целостности: Каждый сегмент содержит контрольную сумму для проверки целостности данных.  
* Контроль перегрузки: Алгоритмы, такие как AIMD (Additive Increase Multiplicative Decrease), регулируют скорость передачи данных в зависимости от состояния сети.  
* Повторная передача: Если подтверждение (ACK) не получено в течение определенного времени, сегмент повторно передается.  
* Упорядочивание: Полученные сегменты собираются в правильном порядке на основе номеров последовательности.  
  
UDP:  
* Передача датаграмм: Каждый датаграмм передается независимо, без учета порядка или состояния получателя.  
* Минимальная обработка: Отсутствуют механизмы управления потоком, контроля перегрузки и повторной передачи.  
* Без гарантии доставки: Датаграммы могут теряться, дублироваться или приходить в неправильном порядке без уведомлений.  
  
3. Завершение соединения  
  
TCP:  
* Четырехстороннее завершение (Four-Way Handshake):  
1. FIN: Клиент инициирует закрытие соединения, отправляя сегмент с флагом FIN (finish).  
2. ACK: Сервер подтверждает получение FIN, отправляя сегмент с флагом ACK.  
3. FIN: Сервер отправляет свой сегмент FIN для закрытия соединения со своей стороны.  
4. ACK: Клиент подтверждает получение FIN от сервера, отправляя сегмент с флагом ACK.  
5. После этого соединение полностью закрывается.  
  
UDP:  
* Нет установления или завершения соединения: Датаграммы передаются независимо, и нет необходимости в процедуре закрытия соединения.