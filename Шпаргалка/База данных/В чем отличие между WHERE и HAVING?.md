WHERE выполняется до выполнения агрегатных функций и фильтрует каждую строку отдельно, а HAVING работает после агрегатных функций и работает с группами строк (если есть GROUP BY, то по группам оттуда, иначе все строки являются одной группой).