Lock table - блокирует таблицу для других транзакций до окончания текущей транзакции(есть много разных режимов)select for update - селект, который блокирует select for … или обновления/удаления результата запроса для других транзакций. поля записей других таблиц, на которые ссылаются внешние ключи, тоже будут заблокированы(например, первичный ключ)  
В конце можно добавить nowait, чтобы селект запрос крашился, если запрашиваемые данные заблокированы другим запросом или недоступны (чтоб не блокировать надолго все остальные вызовы к БД)  
Можно добавить skip locked, чтоб были получены только незаблокированные строки  
BEGIN;  
SELECT * FROM my_table WHERE id = 1 FOR UPDATE;  
-- Другие транзакции не могут ни читать, ни изменять эту строку  
COMMIT;select for share  
Цель: Используется для чтения данных с намерением их последующего обновления, но без немедленной блокировки для записи.  
Блокировка: SELECT FOR SHARE устанавливает блокировку на уровне строки, которая позволяет другим транзакциям читать эти строки, но не изменять их. Это предотвращает одновременное изменение данных другими транзакциями.  
Применение: Полезно, когда вы хотите убедиться, что данные не будут изменены до тех пор, пока вы не завершите свою транзакцию, но при этом не блокируете другие транзакции от чтения этих данных.  
BEGIN;  
SELECT * FROM my_table WHERE id = 1 FOR SHARE;  
-- Другие транзакции могут читать эту строку, но не могут её изменять  
COMMIT;