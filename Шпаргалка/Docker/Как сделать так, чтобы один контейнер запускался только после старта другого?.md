Можно использовать depends_on, который разрешает запускаться контейнеру только после запуска главного контейнера. Но depends_on не гарантирует готовность главного сервиса к работе, поэтому нужно ещё использовать healthcheck, который кидает в главный контейнер указанную команду для проверки его работоспособности