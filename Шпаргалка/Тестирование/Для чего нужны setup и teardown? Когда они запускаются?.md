В pytest принято разделять подготовку окружения (setup) и очистку/финализацию (teardown) с помощью функций, методов или (что чаще) фикстур. Их основная задача — подготовить необходимое состояние перед тестом (или серией тестов) и привести систему в «чистое» состояние после.  
  
Setup (подготовка)  
* Создание временных директорий/файлов  
* Инициализация тестовых данных или «тестовой» БД  
* Запуск сервисов или окружения, необходимых для теста (например, поднимаем локальный сервер)  
  
Teardown (очистка)  
  
* Удаление временных директорий/файлов  
* Закрытие соединений с БД  
* Остановка сервисов  
* Очистка данных, чтобы не влиять на другие тесты  
  
Таким образом, setup гарантирует, что тест всегда стартует в нужном состоянии, а teardown — что после теста не останется «мусора» (файлов, подключений, глобальных переменных и т.п.), который может нарушить изоляцию последующих тестов.  
  
В Pytest обычно рекомендуется использовать фикстуры. Фикстуры могут иметь разный scope (уровень «охвата»):  
  
* function: отрабатывает перед/после каждого теста  
* class: один раз на весь класс  
* module: один раз на модуль  
* session: один раз на всю сессию тестов