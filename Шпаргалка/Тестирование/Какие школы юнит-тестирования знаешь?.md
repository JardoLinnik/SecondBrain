В сфере модульного тестирования (и, в частности, TDD — Test-Driven Development) нередко упоминают две основные «школы», или подхода к написанию тестов и работе с зависимостями:  
  
* Классическая школа (Classic TDD, иногда называют «Чикагская» или «Детройтская» школа)  
* Мокистская школа (Mockist TDD, или «Лондонская» школа)  
  
Обе школы базируются на общей идее TDD (пиши тест — пиши код — рефакторь), однако различаются в том, как пишутся юнит-тесты, какие зависимости изолируются и какими инструментами (моками, стабами и пр.) разработчик пользуется.  
  
1. Классическая (Чикагская/Детройтская) школа TDD  
Основная идея: Писать тесты таким образом, чтобы они проверяли поведение системы максимально близко к реальным условиям, используя как можно меньше мок-объектов. Другими словами, тестируемые классы/модули взаимодействуют с реальными реализациями зависимостей (или с простыми стабами для внешних систем), а не с заглушками на каждый шаг.  
  
Особенности:  
* Минимальное использование моков и стабов: Для изоляции часто достаточно оставить реальные (иногда упрощённые) зависимости или вовсе интеграционные подходы.  
* Валидация конечного результата: Тесты чаще проверяют состояние объекта или результат выполнения (выходные данные), чем взаимодействие с зависимостями.  
* Упор на «чёрный ящик»: Система или класс тестируются «снаружи» — что подаём на вход, какой результат на выходе. Если для результата нужны коллаборации с другими объектами, часто используют их реальные (или почти реальные) версии.  
  
Пример:  
Если есть метод, который сохраняет что-то в базу, классические тесты могут использовать «настоящую» in-memory базу данных или что-то похожее, чтобы проверить фактическую запись, а не замокать всё подряд.  
  
Reasoned for 4 секунд  
В сфере модульного тестирования (и, в частности, TDD — Test-Driven Development) нередко упоминают две основные «школы», или подхода к написанию тестов и работе с зависимостями:  
  
Классическая школа (Classic TDD, иногда называют «Чикагская» или «Детройтская» школа)  
Мокистская школа (Mockist TDD, или «Лондонская» школа)  
Обе школы базируются на общей идее TDD (пиши тест — пиши код — рефакторь), однако различаются в том, как пишутся юнит-тесты, какие зависимости изолируются и какими инструментами (моками, стабами и пр.) разработчик пользуется.  
  
1. Классическая (Чикагская/Детройтская) школа TDD  
Основная идея:  
Писать тесты таким образом, чтобы они проверяли поведение системы максимально близко к реальным условиям, используя как можно меньше мок-объектов. Другими словами, тестируемые классы/модули взаимодействуют с реальными реализациями зависимостей (или с простыми стабами для внешних систем), а не с заглушками на каждый шаг.  
  
Особенности:  
Минимальное использование моков и стабов: Для изоляции часто достаточно оставить реальные (иногда упрощённые) зависимости или вовсе интеграционные подходы.  
Валидация конечного результата: Тесты чаще проверяют состояние объекта или результат выполнения (выходные данные), чем взаимодействие с зависимостями.  
Упор на «чёрный ящик»: Система или класс тестируются «снаружи» — что подаём на вход, какой результат на выходе. Если для результата нужны коллаборации с другими объектами, часто используют их реальные (или почти реальные) версии.  
  
Пример:  
Если есть метод, который сохраняет что-то в базу, классические тесты могут использовать «настоящую» in-memory базу данных или что-то похожее, чтобы проверить фактическую запись, а не замокать всё подряд.  
Часто называют «Чикагской» или «Детройтской» (по аналогии с корнями первых внедрений XP/TDD у Kent Beck, Ron Jeffries и др. в американском регионе).  
  
2. Мокистская (Лондонская) школа TDD  
Основная идея:  
Максимально изолировать тестируемый класс от его окружения, подменяя все внешние коллаборации моками (mock) или фейковыми (stub) объектами. При этом тесты проверяют не только конечный результат, но и правильность взаимодействия — т.е. вызывались ли зависимости, какие методы, с какими параметрами.  
  
Особенности:  
* Широкое использование моков: При написании теста подменяют все (или почти все) внешние зависимости тестируемого кода на моки, стабы, фейки.  
* Проверка коллабораций (interaction-based testing): Тест обычно утверждает, что тестируемый объект вызывал методы зависимостей с корректными параметрами и в корректном порядке.  
* Более детальный контроль поведения: Это даёт точные тесты на взаимодействие, но часто приводит к большему числу тестов, более «хрупких» при рефакторинге (так как меняется не только логика, но и то, какие методы зависимостей вызываются).  
Пример:  
Если метод «сохраняет» что-то, мокистский тест не проверит реальную базу данных. Вместо этого создаётся мок-репозиторий, и тест проверяет, что у него был вызван метод save(...) с определёнными параметрами.