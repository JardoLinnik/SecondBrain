**Hash-Ð¸Ð½Ð´ÐµÐºÑ** â€” ÑÑ‚Ð¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ **Ð¾Ñ‡ÐµÐ½ÑŒ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð¿Ð¾ Ñ‚Ð¾Ñ‡Ð½Ð¾Ð¼Ñƒ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸ÑŽ ÐºÐ»ÑŽÑ‡Ð°** (Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ `=`).  
ÐžÐ½ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½ Ð½Ð° **Ñ…ÐµÑˆ-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ**: Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· Ñ…ÐµÑˆ-Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, Ð³Ð´Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑÑ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° ÑÑ‚Ñ€Ð¾ÐºÑƒ.

ÐžÐ±ÑŠÑÑÐ½ÑŽ Ð¿Ð¾Ð½ÑÑ‚Ð½Ð¾ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸ ðŸ‘‡

---

# ðŸ§© Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Hash-Ð¸Ð½Ð´ÐµÐºÑ (Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ)

ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ, Ð³Ð´Ðµ ÑÐ»Ð¾Ð²Ð° Ñ€Ð°ÑÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ð¾ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ð°Ð¼:

`ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð° 1: ÐÐ½Ð½Ð° â†’ pointer ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð° 2: Ð‘Ð¾Ñ€Ð¸Ñ â†’ pointer ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð° 3: Ð“Ñ€Ð¸ÑˆÐ° â†’ pointer`

Ð¢Ñ‹ ÑÑ‡Ð¸Ñ‚Ð°ÐµÑˆÑŒ Ñ…ÐµÑˆ Ð¾Ñ‚ Ð¸Ð¼ÐµÐ½Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:

`hash("ÐÐ½Ð½Ð°") â†’ 1 hash("Ð‘Ð¾Ñ€Ð¸Ñ") â†’ 2 hash("Ð“Ñ€Ð¸ÑˆÐ°") â†’ 3`

Ð˜ ÑÑ€Ð°Ð·Ñƒ Ð¸Ð´Ñ‘ÑˆÑŒ Ð² Ð½ÑƒÐ¶Ð½ÑƒÑŽ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ.  
**ÐÐ¸ÐºÐ°ÐºÐ¸Ñ… Ð´ÐµÑ€ÐµÐ²ÑŒÐµÐ², ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð¾Ðº, Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð¾Ð². Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾Ñ‡Ð½Ð¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ.**

ÐžÑ‚ÑÑŽÐ´Ð° Ð¿Ð»ÑŽÑ:

> Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð¸ÑÐºÐ° â€” Ð¿Ð¾Ñ‡Ñ‚Ð¸ O(1), Ñ‚.Ðµ. Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾.

---

# ðŸ— ÐšÐ°Ðº Hash-Ð¸Ð½Ð´ÐµÐºÑ ÑƒÑÑ‚Ñ€Ð¾ÐµÐ½ Ð²Ð½ÑƒÑ‚Ñ€Ð¸

### 1ï¸âƒ£ Ð•ÑÑ‚ÑŒ Ð¼Ð°ÑÑÐ¸Ð² "ÐºÐ¾Ñ€Ð·Ð¸Ð½" (buckets)

ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 1024 ÑÐ»Ð¾Ñ‚Ð°.

### 2ï¸âƒ£ Ð¥ÐµÑˆ-Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ Ð½Ð¾Ð¼ÐµÑ€ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹

Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: Ð² ÐºÐ°ÐºÑƒÑŽ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ Ð¿Ð¾Ð¼ÐµÑÑ‚Ð¸Ñ‚ÑŒ ÐºÐ»ÑŽÑ‡.

### 3ï¸âƒ£ Ð’ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ðµ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹

Ð•ÑÐ»Ð¸ Ð´Ð²Ð° Ñ€Ð°Ð·Ð½Ñ‹Ñ… ÐºÐ»ÑŽÑ‡Ð° Ð¿Ð¾Ð¿Ð°Ð»Ð¸ Ð² Ð¾Ð´Ð½Ñƒ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ (ÐºÐ¾Ð»Ð»Ð¸Ð·Ð¸Ñ) â€” Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð² Ñ†ÐµÐ¿Ð¾Ñ‡ÐºÐµ (linked list).

---

# ðŸ” ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Hash-Ð¸Ð½Ð´ÐµÐºÑÑƒ?

Ð˜Ñ‰ÐµÐ¼ Ð·Ð°Ð¿Ð¸ÑÑŒ:

`SELECT * FROM users WHERE email = 'a@a.com';`

ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼:

1. Ð±Ð°Ð·Ð° ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ hash(email)
    
2. Ð¸Ð´Ñ‘Ñ‚ ÑÑ€Ð°Ð·Ñƒ Ð² Ð½ÑƒÐ¶Ð½ÑƒÑŽ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñƒ
    
3. Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑ‘ (Ð° Ð½Ðµ Ð²ÑÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ)
    
4. ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ»ÑŽÑ‡Ð¸ Ð½Ð° ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ðµ
    
5. Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½ÑƒÐ¶Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ
    

ÐžÑ‡ÐµÐ½ÑŒ Ð±Ñ‹ÑÑ‚Ñ€Ð¾.

---

# âš¡ ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Hash-Ð¸Ð½Ð´ÐµÐºÑÐ°

### âœ” ÐœÐ¾Ð»Ð½Ð¸ÐµÐ½Ð¾ÑÐ½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ñƒ (`=`)

Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ Ð´Ð»Ñ:

`WHERE id = ? WHERE email = ? WHERE token = ?`

### âœ” Ð—Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ B-Tree Ð¿Ñ€Ð¸ Ñ‚Ð¾Ñ‡Ð½Ð¾Ð¼ Ð¿Ð¾Ð¸ÑÐºÐµ

ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ð½ÐµÑ‚ Ð¾Ð±Ñ…Ð¾Ð´Ð° Ð´ÐµÑ€ÐµÐ²Ð°, ÑƒÑ€Ð¾Ð²Ð½ÐµÐ¹, ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ð¹.

### âœ” ÐœÐ°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ Ð¸Ð½Ð´ÐµÐºÑ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ð² Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸

---

# ðŸš« ÐÐ¾ ÐµÑÑ‚ÑŒ Ð²Ð°Ð¶Ð½Ñ‹Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ

Hash-Ð¸Ð½Ð´ÐµÐºÑÑ‹ **Ð¿Ð»Ð¾Ñ…Ð¸Ðµ** Ð´Ð»Ñ:

### âŒ Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²:

`WHERE age BETWEEN 18 AND 25`

ÐÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚!  
Ð¥ÐµÑˆ-Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº.

### âŒ Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð¾Ðº:

`ORDER BY created_at`

Ð¥ÐµÑˆ-Ð¸Ð½Ð´ÐµÐºÑ Ð½Ðµ Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½.

### âŒ LIKE, >, <, <=, >=

ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚.

### âŒ JOINÑ‹ Ð¿Ð¾ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñƒ

ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ.

### âŒ ÐšÐ¾Ð»Ð»Ð¸Ð·Ð¸Ð¸ Ð·Ð°Ð¼ÐµÐ´Ð»ÑÑŽÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ

Ð•ÑÐ»Ð¸ Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ñ… Ñ…ÐµÑˆÐµÐ¹ â†’ Ñ†ÐµÐ¿Ð¾Ñ‡ÐºÐ¸ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ.

---

# ðŸ› Ð“Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Hash-Ð¸Ð½Ð´ÐµÐºÑÑ‹?

## PostgreSQL

ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ hash Ð¸Ð½Ð´ÐµÐºÑÑ‹, Ð½Ð¾:

- Ð½Ðµ WAL-Ð»Ð¾Ð³Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð´Ð¾ Ð²ÐµÑ€ÑÐ¸Ð¸ 10
    
- Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ B-Tree Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ð¸ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½ÐµÐµ
    
- ÑÐµÐ¹Ñ‡Ð°Ñ Ð¸Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ Ñ€ÐµÐ´ÐºÐ¾
    

## MySQL

Hash-Ð¸Ð½Ð´ÐµÐºÑÑ‹ â€” Ð¾ÑÐ½Ð¾Ð²Ð° Ð´Ð²Ð¸Ð¶ÐºÐ° MEMORY Ð¸ Ð² InnoDB Ð´Ð»Ñ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ñ…ÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ.

## Redis

Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ñ…ÐµÑˆ-Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ â€” Ð¿Ð¾Ñ…Ð¾Ð¶Ð°Ñ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ.

## Key-value Ð±Ð°Ð·Ñ‹ (RocksDB, LevelDB)

Ð¢Ð°Ð¼ Ñ…ÐµÑˆÐ¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð² memtable/Ð±Ð»ÑƒÐ¼-Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ….

## ÐšÑÑˆ-ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹ Ð´Ð»Ñ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð¾Ð², Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð², UUID.

---

# ðŸ§  ÐšÐ¾Ð³Ð´Ð° Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Hash-Ð¸Ð½Ð´ÐµÐºÑ?

Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹, ÐµÑÐ»Ð¸:

### âœ” Ñ‚ÐµÐ±Ðµ Ð½ÑƒÐ¶ÐµÐ½ **Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ñƒ**

`WHERE token = ? WHERE session_id = ? WHERE api_key = ?`

### âœ” Ð½ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¿Ð¾ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°Ð¼ Ð¸ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð°Ð¼

ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Ñ‚Ð¾ÐºÐµÐ½Ñ‹, Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹, ÐºÑÑˆÐ¸.

### âœ” Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹ Ð¸Ð»Ð¸ Ð¿Ð¾Ñ‡Ñ‚Ð¸ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹

(Ð¼Ð°Ð»Ð¾ ÐºÐ¾Ð»Ð»Ð¸Ð·Ð¸Ð¹)

---

# ðŸ§  Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð¾Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ðµ (Ð¾Ð´Ð½Ð¾Ð¹ Ñ„Ñ€Ð°Ð·Ð¾Ð¹)

> **Hash-Ð¸Ð½Ð´ÐµÐºÑ â€” ÑÑƒÐ¿ÐµÑ€Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¸Ð½Ð´ÐµÐºÑ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‰Ð¸Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼, Ð½Ð¾ Ð±ÐµÑÐ¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ð¹ Ð´Ð»Ñ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð¾Ð², ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð¾Ðº Ð¸ Ð»ÑŽÐ±Ñ‹Ñ… â€œ>, <, BETWEEN, ORDER BYâ€.**



**ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ**:

**ÐŸÑ€Ð¸Ð¼ÐµÑ€**:

**Ð”Ð¾Ð¿. ÑÑÑ‹Ð»ÐºÐ¸:** [[Ð˜Ð½Ð´ÐµÐºÑÑ‹]]

**Tags**: #IT #Backend  #Ð‘Ð°Ð·Ð°Ð”Ð°Ð½Ð½Ñ‹Ñ… 