Кеширование Сокращение response time, снижение нагрузки на систему. Кеш не должен держать нагрузку.


- Цели
	- Сокращение response time
	- Снижение лишней нагрузки
	- Переиспользование ранее полученных или вычисленных данных
	- Стабилизация работы при кратковременных отказах систем

- Термины
	- Cache miss - промах кеша, запрошенный ключ не был найден в кеше
	- Cache Hit - попадание в кеш, запрошенный ключ найден в кеше
	- Hit radio - процент попаданий запросов в кеш
	- Горячий ключ - ключ, на который приходится большая часть запросов
	- Прогрев кеша - процесс наполнения кеша 
	- Инвалидация - удаление кешированных данных

- Какие данные кешировать
	- Меняются часто(секунды) - чаще всего бессмысленно
	- Меняются не часто(минуты и часы) - тут нужно решать
	- Меняются редко(дни) - кешировать
	- Кеширование ошибок - не будет cache miss атак и при ошибке не будет обращатся к проблемному коду
	- По хорошему нужо уметь держать нагрузку без кеша
	- Задача кеша ускорить ответ, а не держать нагрузку

- Эффективность
	- AverageTime = DBAccessTime * CasheMissRate * + CacheAccessTime
	- Если DBAccessTime = 100ms
	- CacheAccessTime = 20 ms
	- Тогда при CacheMissRate > 0,8 кеш вреден
	- Метрика читаеся на RT

- Виды кеширования
	- [[Внутренее кеширование]]
	- [[Внешнее кеширование  ]]

- Способы взаимодейсвия с кешем
	- [[Cache Aside (Кеширование на стороне)]]
	- [[Cache Through (Сквозное кеширование)]]
	- [[Cache Ahead (Опережающее кеширование)]]

- Что нужно помнить:
	- Важна актуализация данных.
	- Стоит учитывать баланс на чтение и на запись.
	- Нельзя забывать про отказоустойчивость.

- Алгоритмы вытеснения данных 
	- [[Random]]
	- [[FIFO]]
	- [[LIFO]]
	- [[LRU]]
	- [[MRU]]
	- [[LFU]]
	- [[Алгоритм Белади (OPT)]]
	- [[Second Chance]]
	- [[Clock]]
	- [[2Q]]
	- [[SLRU]]
	- [[TLRU]]
	- [[LRU-k]]
	


**Доп. ссылки:** [[Систем дизайн]]

**Tags**: #Backend #IT #АрхитектуаПриложения 