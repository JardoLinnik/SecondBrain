Persistency ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º—ã **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

–ü—Ä–∏–º–µ—Ä:

- –í –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ ‚Üí –¥–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
    
- –ù–∞ –¥–∏—Å–∫–µ/SSD ‚Üí –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è
    

Persistent DB —Ä–∞–±–æ—Ç–∞–µ—Ç _–ø–æ–≤–µ—Ä—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞_:

- —Ñ–∞–π–ª
    
- SSD
    
- HDD
    
- —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    
- WAL + snapshot –º–µ—Ö–∞–Ω–∏–∑–º—ã
    

---

# üóÑ –¢–∏–ø—ã persistent –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

## 1. **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ (SQL)**

- PostgreSQL
    
- MySQL
    
- Oracle
    
- SQL Server
    

–•—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö, –æ—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å.

---

## 2. **NoSQL –±–∞–∑—ã —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é**

- MongoDB
    
- Cassandra
    
- Riak
    
- CouchDB
    

–•—Ä–∞–Ω—è—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –≥—Ä–∞—Ñ—ã, —à–∏—Ä–æ–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

---

## 3. **Key-value persistent —Å–∏—Å—Ç–µ–º—ã**

- LevelDB
    
- RocksDB
    
- BoltDB
    
- BadgerDB
    

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ embedded-—Å–∏—Å—Ç–µ–º–∞—Ö, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.

---

## 4. **Distributed persistent storage**

- etcd
    
- Consul
    
- ZooKeeper
    

–•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é.

---

## 5. **–ö–æ–ª–æ–Ω–æ—á–Ω—ã–µ persistent –±–∞–∑—ã**

- ClickHouse
    
- BigQuery
    
- Redshift
    
- Vertica
    

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫—É.

---

# üîê –ö–∞–∫ persistent –±–∞–∑—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å?

## üî∏ 1. Write Ahead Log (WAL)

–ó–∞–ø–∏—Å—å —Å–Ω–∞—á–∞–ª–∞ –≤ –∂—É—Ä–Ω–∞–ª ‚Üí –∑–∞—Ç–µ–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç:

- PostgreSQL
    
- MySQL InnoDB
    
- MongoDB WiredTiger
    
- ClickHouse (—á–∞—Å—Ç–∏—á–Ω–æ)
    

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–±–æ—è.

---

## üî∏ 2. Snapshots (—Å–Ω–∏–º–∫–∏ –¥–∞–Ω–Ω—ã—Ö)

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–ø–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç:

- etcd, Consul
    
- Redis (RDB)
    
- Cassandra SSTables
    

---

## üî∏ 3. Copy-on-write (CoW)

–î–∞–Ω–Ω—ã–µ –ø–∏—à—É—Ç—Å—è –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ, –∞ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞—Ä—ã—Ö.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç:

- LMDB
    
- Btrfs, ZFS
    
- FoundationDB
    

---

## üî∏ 4. LSM-–¥–µ—Ä–µ–≤—å—è (Log-Structured Merge Tree)

–ó–∞–ø–∏—Å—å —Å–Ω–∞—á–∞–ª–∞ –∏–¥—ë—Ç –≤ –ø–∞–º—è—Ç—å –∏ journal, –ø–æ—Ç–æ–º —Å–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç:

- LevelDB / RocksDB
    
- Cassandra
    
- ClickHouse (—á–∞—Å—Ç–∏—á–Ω–æ)
    
- Elasticsearch
    

–û—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞ SSD.

---

# üßÆ ACID ‚Äî –±–∞–∑–∞ –¥–ª—è persistency

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ persistent –°–£–ë–î –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç ACID:

**A** ‚Äî atomicity  
**C** ‚Äî consistency  
**I** ‚Äî isolation  
**D** ‚Äî durability (—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º)

Durability = –∫–ª—é—á–µ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ persistency.

---

# üß± Persistent vs In-memory –±–∞–∑—ã

|–°–≤–æ–π—Å—Ç–≤–æ|Persistent|In-memory|
|---|---|---|
|–•—Ä–∞–Ω–µ–Ω–∏–µ|–¥–∏—Å–∫ / SSD|RAM|
|–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏|–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è|–¥–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç|
|–°–∫–æ—Ä–æ—Å—Ç—å|–Ω–∏–∂–µ|–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è|
|–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö|–ª—é–±—ã–µ|—á–∞—â–µ key-value|
|–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ|—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞|–∫—ç—à, –æ—á–µ—Ä–µ–¥–∏, realtime|

–ü—Ä–∏–º–µ—Ä—ã in-memory:

- Redis (–±–µ–∑ RDB/AOF)
    
- Memcached
    

---

# üß∞ –ì–¥–µ persistent –±–∞–∑—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã:

- –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã
    
- CRM/ERP
    
- –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
    
- e-commerce
    
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    
- —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–æ–±—ã—Ç–∏–π
    
- –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
    
- SSO / –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    

---

# üìå –ò—Ç–æ–≥

**Persistent –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –ª—é–±–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Å–ø–æ—Å–æ–±–Ω–æ–µ –Ω–∞–¥—ë–∂–Ω–æ –∏ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ.**  
–û–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- –∂—É—Ä–Ω–∞–ª—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (WAL)
    
- snapshots
    
- LSM-–¥–µ—Ä–µ–≤—å—è
    
- copy-on-write  
    —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ—è—Ö.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:

**–ü—Ä–∏–º–µ—Ä**:

**–î–æ–ø. —Å—Å—ã–ª–∫–∏:**[[–ö–ª–∞—Å—Å—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö]]

**Tags**: #IT #Backend  #–ë–∞–∑–∞–î–∞–Ω–Ω—ã—Ö 