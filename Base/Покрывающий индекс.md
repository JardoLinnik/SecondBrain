**–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å (covering index)** ‚Äî —ç—Ç–æ –∏–Ω–¥–µ–∫—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç **–≤—Å–µ –¥–∞–Ω–Ω—ã–µ**, –Ω—É–∂–Ω—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, —Ç–∞–∫ —á—Ç–æ –±–∞–∑–µ **–Ω–µ –Ω—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ç–∞–±–ª–∏—Ü–µ –≤–æ–æ–±—â–µ**.  
–ó–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, —á–∏—Ç–∞—è —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å ‚Üí —ç—Ç–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.

–û–±—ä—è—Å–Ω—è—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ üëá

---

# üß© –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

–û–±—ã—á–Ω–æ –∏–Ω–¥–µ–∫—Å —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ:

- –∫–ª—é—á (–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏)
    
- —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã
    

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–∏–µ –∫–æ–ª–æ–Ω–∫–∏, –±–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –∏–¥—Ç–∏ **–≤ —Ç–∞–±–ª–∏—Ü—É**, —á—Ç–æ–±—ã –∏—Ö –ø—Ä–æ—á–∏—Ç–∞—Ç—å. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **heap lookup** –∏–ª–∏ **row lookup**.

–ù–æ –µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –≤–∫–ª—é—á–∞–µ—Ç **–≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –∑–∞–ø—Ä–æ—Å—É, —Ç–æ –æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è **–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º**.

–ü—Ä–∏–º–µ—Ä:

### –¢–∞–±–ª–∏—Ü–∞:

`users(id, name, age, city)`

### –ò–Ω–¥–µ–∫—Å:

`INDEX idx_name_age (name, age)`

–ó–∞–ø—Ä–æ—Å:

`SELECT age FROM users WHERE name = 'Alex';`

–≠—Ç–æ—Ç –∏–Ω–¥–µ–∫—Å **–ø–æ–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –ø–æ–ª–µ `name` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø–æ–∏—Å–∫–µ
    
- –ø–æ–ª–µ `age` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∏–Ω–¥–µ–∫—Å–µ
    

–ë–∞–∑–∞ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å **–ø–æ–ª–Ω–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å**, –Ω–µ —Ç—Ä–æ–≥–∞—è —Ç–∞–±–ª–∏—Ü—É.

---

# üéØ –ü–æ—á–µ–º—É –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å –±—ã—Å—Ç—Ä—ã–π?

–ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω:

### ‚úî –£–±–∏—Ä–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —á—Ç–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

–û–±—ã—á–Ω–æ:

- —á–∏—Ç–∞–µ–º –∏–Ω–¥–µ–∫—Å
    
- –ø—Ä—ã–≥–∞–µ–º –ø–æ —Å—Å—ã–ª–∫–µ –≤ —Ç–∞–±–ª–∏—Ü—É
    
- —á–∏—Ç–∞–µ–º —Å—Ç—Ä–æ–∫—É
    

–≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ.

–° –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º –∏–Ω–¥–µ–∫—Å–æ–º:

- —á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å
    
- –≤—Å—ë –≥–æ—Ç–æ–≤–æ
    

---

# üß† –ö–∞–∫ –∏–Ω–¥–µ–∫—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º–∏

## 1. **–í–∫–ª—é—á–µ–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –≤ —Å–∞–º –∏–Ω–¥–µ–∫—Å**

–ù–∞–ø—Ä–∏–º–µ—Ä –≤ MySQL / PostgreSQL:

`INDEX (name, age)`

## 2. **‚Äú–í–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏‚Äù (included columns)**

–û—Å–æ–±–µ–Ω–Ω–æ –≤ SQL Server –∏ PostgreSQL (_INCLUDE_):

`CREATE INDEX idx_user_name ON users(name) INCLUDE (age, city);`

–ó–¥–µ—Å—å:

- `name` ‚Äî –∫–ª—é—á –∏–Ω–¥–µ–∫—Å–∞
    
- `age, city` ‚Äî –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ª–∏—Å—Ç—å—è –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
    

---

# üîç –ü—Ä–∏–º–µ—Ä –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞

–ò–Ω–¥–µ–∫—Å:

`INDEX (status, created_at)`

–ó–∞–ø—Ä–æ—Å:

`SELECT created_at FROM orders WHERE status = 'paid';`

–ò–Ω–¥–µ–∫—Å –ø–æ–∫—Ä—ã–≤–∞–µ—Ç:

- –∫–æ–ª–æ–Ω–∫–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ `status`
    
- –∫–æ–ª–æ–Ω–∫–∞ –¥–ª—è SELECT `created_at`
    

**–¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç—Å—è.**  
–ó–∞–ø—Ä–æ—Å –ª–µ—Ç–∏—Ç –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.

---

# üìå –ü—Ä–∏–º–µ—Ä –ù–ï –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞

–ò–Ω–¥–µ–∫—Å:

`INDEX (status)`

–ó–∞–ø—Ä–æ—Å:

`SELECT created_at FROM orders WHERE status = 'paid';`

–ë–∞–∑–∞ –Ω–∞–π–¥—ë—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É,  
–Ω–æ –¥–æ–ª–∂–Ω–∞ –ø–æ–π—Ç–∏ –≤ —Ç–∞–±–ª–∏—Ü—É, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å `created_at`.

---

# üèéÔ∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã –º–æ–≥—É—Ç:

‚úî —É—Å–∫–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ **10‚Äì100 —Ä–∞–∑**  
‚úî —É–º–µ–Ω—å—à–∏—Ç—å I/O  
‚úî —É–±—Ä–∞—Ç—å random access  
‚úî —É–ª—É—á—à–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ cache  
‚úî —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥–∏—Å–∫–∏

---

# ‚ö† –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã:

### ‚ùå –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞

–ü–æ—Ç–æ–º—É —á—Ç–æ —Ö—Ä–∞–Ω—è—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏.

### ‚ùå –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–±–æ—Ä—â–∏—Ç—å

–ï—Å–ª–∏ –≤ –∏–Ω–¥–µ–∫—Å –¥–æ–±–∞–≤–∏—Ç—å –≤—Å—ë –ø–æ–¥—Ä—è–¥ ‚Üí –æ–≥—Ä–æ–º–Ω—ã–π –∏–Ω–¥–µ–∫—Å ‚Üí –º–µ–¥–ª–µ–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏.

### ‚ùå –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è OLTP, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Ä–æ–≥–∏–º–∏ –ø—Ä–∏ UPDATE

–ö–∞–∂–¥—ã–π update –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ ‚Üí –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω–¥–µ–∫—Å.

---

# üìä –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã?

### PostgreSQL

–ß–µ—Ä–µ–∑ INCLUDE:

`CREATE INDEX idx ON table(col) INCLUDE (other_col);`

### MySQL / MariaDB

–†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –ª—é–±–æ–π –∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º.

### SQL Server

–û—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (INCLUDE ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä–Ω–∞—è —Ñ–∏—á–∞).

### SQLite

–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç INCLUDE, –Ω–æ –º–Ω–æ–≥–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏.

---

# üéØ –ò—Ç–æ–≥

**–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ –∏–Ω–¥–µ–∫—Å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–ø—Ä–æ—Å—É, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å, –Ω–µ –æ–±—Ä–∞—â–∞—è—Å—å –∫ —Ç–∞–±–ª–∏—Ü–µ.**

–û–Ω:

- –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —á—Ç–µ–Ω–∏–µ
    
- —É–º–µ–Ω—å—à–∞–µ—Ç –¥–∏—Å–∫ I/O
    
- –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–≥–æ SELECT
    

–ù–æ:

- –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏
    
- –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å INSERT/UPDATE/DELETE


**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:

**–ü—Ä–∏–º–µ—Ä**:

**–î–æ–ø. —Å—Å—ã–ª–∫–∏:** [[–ò–Ω–¥–µ–∫—Å—ã]]

**Tags**: #IT #Backend  #–ë–∞–∑–∞–î–∞–Ω–Ω—ã—Ö 