Технолгия для создания и упраления контейнерами. [[Docker Контейнер]] - среда в которую мы можем вкладывать технологии и проекты, а создается он через [[Docker Образ]].

**Проблема**:  Решает вопрос совместимости приложения с разными ОС и средами. Гарантия того, что приложение будет работать при переносе.

**Пример**:
- Команды
	- `docker --help`  - показывает параметры
	- `docker ligin -u username`
	- `docker push jardolinnik imagename:tag`
	- `docker volume` - управление данными
		- `docker volume create volume_name` - создание файла volume
	- Образ
		- `docker pull {pocket}` - Скачать шаблон через DockerHub
		- `docker images` - показать список установленных шаблонов.
		- `docker image inspect imagename` - показывает информацию о образе
		- `docker build .` - происходит создание образа
			- `-t` - задать имя образу
			- `-docker build -t logsapp:exс .` - exc -версия тега. По умолчанию latest
		- `docker rmi [id]` - удаление образа
		- `docker image prune` - удаление не используемых образов.
		- `docker run {id|name image}` - запускает образа
			- `-it` - интерактивный контейнер
			- `-p 80:3000` - порт. Первый локальный второй докер.
			- `-d` не погружаемся в консоль докера.
			- `--name` - имя контейнера.
			- `--rm` - При выключении контейнер будет удален
			- `-e` - Создание своей собственной env переменной с данными
			- `--env-file ./config/.env` - указываем чтобы конфигурация тянулась из созданного env файла.
		- `docker tag name othername` - переименование тега.
		- `docker push image_name` - скачать образ 
	- Контейнер
		- `docker ps` - показывает список контейнеров. По умолчанию только запущенные. 
			- `-a` - показывает все контейнеры.
		- `docker rm {id}`  - удаление контейнера.
		- `docker container prune` - удаление всех не активных контейнеров.
		- `docker stop [id]` - команда остановкаи контейнера.
		- `docker start [id]` - команда запуска своего контейнера.
		- `docker attach [id]` - команда для подключения к контейнеру.
		- `docker logs [id]` - история контейнера

- Dockerfile - название файла docker, где мы настраиваем Docker под проект.Где мы создаем образ.
	- FROM - название образа.
	- COPY - копирует проект в образ.
		- `. .` - копирует все что находится в корне где лежи фаил.
		- `COPY package.json /app` Сначала лучше скопировать все модули, а потом запускать RUN из-за кеша. 
	- WORKDIR - указывает директорию проекта.
	- RUN - команда которая выполняется при сборке образа. 
		- Обычно устанавливают зависимости проекта.
	- CMD - ["node", "app.js"] - выполняется при запуске образа.
	- EXPOSE - порт для запуска.
	- ENV 
		- $PORT 4200 - задает локальный порт
	- `VOLUME ["/app/data"]`
 
- .dockerignore  - игнорирует команду push
	- .git
	- Dockerfile
	- Не нужные для передачи файлы

- Makefile
	- файл для создания скриптов команд docker.
	- Если фаил такой есть, то вместо `docker` пишем просто `make` и к оманду которую мы заскриптовали.
	- Должна быть установленна [[утилита]] make

- [[Docker Volumes]]
- Deploy VPS


**Доп. ссылки:** [[DockerHub]] [[*env]]

**Tags**: #IT #Backend #ОС #Сервер 