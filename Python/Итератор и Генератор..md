
Итератор - структура данных, которая проходит итерируемый обьект и отдает его значения по одному. Итераторы делятся на внутренние и внешние.

Внешний (pull-based) итератор - это итератор которым управляет клиент путем вызова метода next.

Внутрениий (push-based) итератор - это итератор которому передается callback функция и он уведомляет клиента насчет получения следующего значения агрегированного обьекта.

итерируемый обьект - обьект который можно поэлементно пройти. Обладает методами `.__iter__` и `.__next__` .

`.__iter__` - позволяет определить независимый итератор для обьекта. `.__next__` - позволяет запоминать пройденные элементы и поочередно их проходить.

Исключение StopIteration вызывается когда элементы пройдены. Цикл for обрабатывает эту ошибку самостоятельно. 
Итератор в python  это класс состоящий из методов iter и next.

![[iterator 1.gif]]

**_Aggregate_** — составной объект, по которому может перемещаться итератор;  
**_Iterator_** — определяет интерфейс итератора;  
**_ConcreteAggregate_** — конкретная реализация агрегата;  
**_ConcreteIterator_** — конкретная реализация итератора для определенного агрегата;  
**_Client_** — использует объект Aggregate и итератор для его обхода.

Генератор - итератор который не запоминает всю проходящую цепь и используется лишь один раз. Можно вызвать через включение кортежа, так как у кортежа нет включения как такового вместо это создается генератор. Или что самое частое через функцию с ключевым слдовом yield.

Генератор может быть запущен лишь однажды. Списки, множества и словари существуют в памяти, но генератор создает свои значения во время работы программы и выдает их по одному за раз через итератор. Он не запоминает их, поэтому вы не можете перезапустить или создать его резервную копию .

Итераторы используются когда важна гибкая титерация по обьектам над уже существующими структурами данных. Генераторы же в свою очередь используются для генерации значении по требованию, особенно когда данные большие и не обязательно должны хранится в памяти.



### yield

Ключевое слово в функции для создания генератора. Оно возвращает значение и приостанавлитвает выполнение функции позволяя не хранить в памяти всю последовательность в отличие от return который останавливает работу функции и возвращает все целиком.
